---
title: "C4D備忘録"
date: "2022-08-31"
categories: 
  - "mad"
tags: 
  - "tips"
---

すぐ忘れるので。

<!--more-->

# テキスト追加方法
![](../../images/スクリーンショット-2023-02-27-090231.png)

テキストスプラインのところを長押ししたら出てくる。昔のバージョンではMoTextとかいう名前だったっぽい。

# テキストを縁取りしたい
AEだと塗りをオフにして線をオンにするだけだが、C4Dだとひと手間必要。
- テキストを押し出し0にしてオブジェクト化する
- エッジモードで選択して右クリックし、「エッジをスプラインに」をクリック
- 出来たスプラインを使ってスイープ

# パネル上部で右クリック > マネージャーを閉じる でモード切り替えるボタンが消えた
C4D再起動したら復活した。

# Redshift で被写界深度
カメラに カメラタグ > Redshift Camera を追加。  
Redshift Camera > Bokeh > Override Enabled を両方有効化。  
あとはカメラ本体の焦点距離やらF値やらをいじるだけ。

ref: [📝\[Redshift\] カメラオブジェクトにボケ味(Bokeh)を加えて、写真のようなシーンを作成する方法とは？](https://becgartist.com/redshift-camera-depth-of-field/)

\[2023/04/15\]  
Redshift Cameraタグが消えた。代わりにカメラを追加したら最初から RS Camera が追加されるようになった。Optical > Bokeh で被写界深度の設定ができる。

# プラグインが認識されない
とりあえずC4Dを最新版にアップデートしたら直った。

# Redshift で Cautsics
![](../../images/Redshift-Cinema-4D-Colorful-Glass-Material-and-Caustics-0-0-screenshot-1024x576.png)
こういうの

- オブジェクトに RS Material を追加
- マテリアルの Transmission > Weight を1にして透明に
- オブジェクトに Redshift Objectタグを追加
- visibility > Casts Caustic Photons にチェック
- RSライトを追加して Photon > Emit Coutic Photons にチェック
- Redshift RenderView のバケットレンダリングボタンを押す（クローナーかけたキューブみたいなアイコン）

このままだとノイズが出るので

- レンダリング設定 > Redshift > Advanced > Caustics > Blur Radius を大きくする
- RSライト > Caustics > Photons を限界まで上げる（当然レンダリング時間は伸びる）

マテリアルの Transmission > Dispersion の数値を上げると虹色になる。数値が小さいほど色ズレが大きい。

# E3D の Multi Objects 的なアレ
- オブジェクトの親に「破砕」を追加
- モードを「セグメントごとに破砕」にする
- ランダムを破砕に適用

# クローナーで複製したオブジェクトのマテリアルをランダムに
![](../../images/スクリーンショット-2023-04-24-140635.png)

マテリアル > カラー > テクスチャの逆三角をクリックして Mograph > マルチシェーダ をクリック
![](../../images/スクリーンショット-2023-04-24-141110.png)

テクスチャ画像をクリックしてシェーダを表示  
「追加」をクリックしてテクスチャを追加  
![](../../images/スクリーンショット-2023-04-24-141129.png)

ランダムをクローナーに適用して カラー > カラーモード を「フィールドカラー」に  
「アルファ/強度を使う」をオンに

ref: [📝\[Cinema 4D\] 一つのマテリアルで複数の色を適用させる方法とは？](https://becgartist.com/c4d-multi-shader-random/#:~:text=%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%A8%E3%83%95%E3%82%A7%E3%82%AF%E3%82%BF%E3%82%92%E9%81%B8%E6%8A%9E%E3%81%97,%E3%82%88%E3%81%86%E3%81%AB%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%97%E3%81%9F%E3%80%82)

# Redshift でオブジェクトをライト化
- RSエリアライトを追加
- Object > SHAPE > Area Shape を「Mesh」に
- Mesh でライト化したいオブジェクトを選択
- Visible をオンにするとオブジェクトが出てくる。複製したい場合はオブジェクトとエリアライトをヌルにぶちこんでからクローナーへ。

# 物理演算
- タグのところからリジッドボディと衝突を探す。（C4DのバージョンによってBulletタグだったりシミュレーションタグだったりする）
- 落としたいものにリジッドボディタグを、床とか壁とかぶつかる（受け止める？）ものに衝突タグをつける。
- 衝突判定 > 形状 を「可動メッシュ」にするとちゃんと形通りにシミュレーションされた。

# キャラ配置
- 平面を追加してRSマテリアルを適用
- TIFFで書き出したキャラの透過画像をノードエディタにドラッグ&ドロップ（アルファ付きとアルファのみの2つ）
- アルファ付きを「Color」に、アルファのみを「Opacity」に接続

# ライトの光（light ray）を描写
- Redshift Enviromentを追加
- マテリアルが真っ黒になるのはライトが弱いから。ライトを強くしてEnviromentのパラメーターを調整。

# ランダム配置
- ランダム配置したいオブジェクトをクローナーに
- クローナーを選択した状態でランダムを追加

# アニメーション素材読み込み
- TIFFで連番で書き出す
- RSマテリアルを適用し、ノードエディタに連番の一番最初の画像をドラッグ&ドロップ
- 「Color」に接続
- テクスチャノードの IMAGE > Animation > Mode を「Simple」に

# AEでいう「wiggleエクスプレッション」的な
- ヌルを追加して位置を0, 0, 0にし、振動タグを追加。このヌルの位置Xの値を利用する。
- Xpressoを追加し、ヌルの位置Xからwiggleさせたいプロパティに接続。

# オブジェクトの原点を中心に
ツール > 軸 で色々イジる。

ヌルの軸を弄りたいときはヌルの中の子を選択してからいじる。

# マテリアルの繰り返し
マテリアルタグのサイズU Vをいじる。

ref: 📝[[Cinema 4D] 投影法とテクスチャモードを使って、テクスチャをお好みのスケールや位置を調整してみよう](https://becgartist.com/c4d-projection-and-texture-mode/)

# エミッタってどこ
シミュレート > パーティクル > エミッタ

# 紙を舞わせたい
舞わせたいオブジェクトに Bulletタグ > ソフトボディ を追加。ソフトボディ2つあるけどこっちが新しいやつっぽい。

# プロジェクト設定の開き方
Cmd + D

# Redshiftマテリアルで「マテリアルの表のみ」を実現する方法
Ray Switchノード（レイ切り替え）を間に挟む。カメラ > 表/背面 を有効にして背面カラーを黒にすればOK。アルファにも同じノードを挟む必要あり。

![](../../images/スクリーンショット-2024-11-02-12.01.46-1024x949.png)

ref: 📝[Redshiftrenderでポリゴンの表と裏で違う色を設定したい場合](https://blog.goo.ne.jp/cinema4d_memo/e/c57d80dc84e4f3669ac4e85e9d9f37dd)

# Sketch and Toonレンダリングで背景透過させる
レンダリング設定 > Sketch and Toon > シェーディング > 背景 をオフにする。

# 新しいパーティクルシステム
## パーティクルの粒を特定のオブジェクトにしたい
【方法1】  
パーティクルグループにRSオブジェクトタグを付けて パーティクル > モード をカスタムオブジェクトにする。粒にしたいオブジェクトを選択すればOK。

【方法2】  
オブジェクトモードのクローナーを追加して、中に粒にしたいオブジェクトを入れて「オブジェクト」をパーティクルグループにする。

## 開始フレームをマイナスにしても最初から降ってくれない
プロジェクトのスタートもマイナスにして、0からレンダリングすればOK。

ref: 📝[I Need My Emitter to start emitting before frame zero.](https://creativecow.net/forums/thread/i-need-my-emitter-to-start-emitting-before-frame-z/)

## パーティクルにランダムな回転をかけたい
エミッター > プロパティ > 回転速度 > スピンベクター > ランダム

## パーティクルのサイズをゼロから始めたい
簡易オブジェクトとエフェクターを使う。簡易オブジェクトでスケールを-1にして、エフェクターをフィールドに指定する。線形エフェクターで発生点の部分をゼロになるようにすればOK。

# ヌルの中にオブジェクトを複数入れて、そのヌルをクローナーで複製してからランダムエフェクトを適用したときに、ヌルごとにランダム化するのではなく、ヌルの中のオブジェクトごとにランダム化させる方法
長い。結論：無かった。

なので、4つのオブジェクトがヌルに入ってたなら、一個一個のオブジェクトにクローナーをかけて、4個のクローナーを用意する。んでそのクローナーにそれぞれランダムエフェクトを追加する。は？？？？？？

![](../../images/スクリーンショット-2024-11-07-23.34.37.png)

追記：非破壊でやる方法を教えてもらった。破砕-ヌル-クローナー-ヌル-オブジェクトの順番に組めば行けるっぽい。ありがてえ………。

📝[https://x.com/AE_OFF/status/1854738800796483766](https://x.com/AE_OFF/status/1854738800796483766)

# 一撃でオブジェクトを非表示に
チョボ丸を Opt + Shift クリック。

# ランダムのXYZの値を同時に変える
P をクリックすれば PX PY PZ が選択されるから、選択された状態で Cmd ドラッグ。数値を入れる場合は数字を入力してから Cmd + エンター。

# バージョンアップ時に環境設定を移行
## ショートカットの移行
- 古いC4Dの環境設定フォルダを開く（設定 > 一般設定フォルダを開く）
- prefs > shortcuts フォルダ内にあるファイルを新しいバージョンの同じ階層にコピペ
- ウィンドウ > カスタマイズ > コマンドマネージャ > ファイル > プリセット の中に先ほどコピペしたファイル名の設定が出てくるので選択

# Octane
## インストール先
アプリケーション > Maxon Cinema 4D 20XX > plugins

## ガラスのマテリアルが黒ずむ
Common > Fake shadows をオンに。それでも黒ずむのはガラスのオブジェクトに他のオブジェクトが貫通してるから。

もしくはレンダリング設定をいじることで解決する。Specular Depthの値を上げると黒くなくなる。

>・Diffuse、Specular、Glossy Depth  
>光の拡散、屈折、反射回数です。数値が高いほどレンダリング時間がかかります。  
>octaneは屈折・反射の回数が設定値を越えると黒く描画されるので、黒い描画がなくなるまでLive Viewerを見ながら調整します。

ref: 📝[OctaneRenderのレンダリング効率化](https://note.com/tatsuyam_note/n/n7358a710d818)

OctaneSkyを追加してPower30とかにしても行ける。

## Goboのやり方
- Octane のライトを追加
- Distribution を c4doctane > Image Texture にする
- テクスチャ画像を選んで UV Transform で調整する

## 新しいパーティクルシステムをOctaneで
- パーティクルグループに Octaneオブジェクトタグを付ける
- Octaneオブジェクトタグ > Particle Rendering > Enable を Geometry に
- パーティクルグループ内のオブジェクトをさっきの Geometry の下のエリアにドラッグアンドドロップ

## プレビュー画面のゴテゴテしたUIを消す
プレビュー画面で右クリック > Toggle Info

# 未使用のタグを全部選択して一括削除
選択 > 選択フィルター > 選択ツール でタグを全部選択してDeleteボタンで消す。

ref: 📝[Delete All Materials in Cinema 4D](https://youtu.be/fp7qTxypgQw?si=4VBpP3i4TqYz6Nt7)